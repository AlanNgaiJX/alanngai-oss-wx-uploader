/*! For license information please see alanngai-oss-wx-uploader.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["alanngai-oss-wx-uploader"]=e():t["alanngai-oss-wx-uploader"]=e()}(this,(()=>(()=>{var t={61:(t,e,n)=>{var r=n(698).default;function o(){"use strict";t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",s=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),u=new _(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var a=k(u,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,u),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p={};function d(){}function g(){}function y(){}var v={};f(v,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==n&&i.call(b,a)&&(v=b);var x=y.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,u,a,s){var c=h(t[o],t,u);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==r(l)&&i.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function Q(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return g.prototype=y,f(x,"constructor",y),f(y,"constructor",g),g.displayName=f(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,f(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},w(O.prototype),f(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var u=new O(l(t,n,r,o),i);return e.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},w(x),f(x,c,"Generator"),f(x,a,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Q),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return u.type="throw",u.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],u=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),s=i.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),Q(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;Q(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},698:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},687:(t,e,n)=>{var r=n(61)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e,n,r,o,i,u){try{var a=t[i](u),s=a.value}catch(t){return void n(t)}a.done?e(s):Promise.resolve(s).then(r,o)}function o(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var u=t.apply(n,r);function a(t){e(u,o,i,a,s,"next",t)}function s(t){e(u,o,i,a,s,"throw",t)}a(void 0)}))}}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(r),n.d(r,{default:()=>f});var u=n(687),a=n.n(u),s=function(){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.countTask=0,this.concurrencyCount=1,this.waitingQueue=[],this.uploadingQueue=[],this.errorQueue=[],this.uploadedQueue=[],this.choosing=!1,this.uploading=!1,this.isCheckingQueue=!1,this.maxSideWidth=n,this.taskId=0,this.checkQueueList=null,this.debug=!1,this.signatureApi=t,this.signatureInfo=null,this.onComputedId=null,this.onComputedMd5=null,this.onUploading=null,this.onSuccess=null,this.onError=null,this.onAllFinish=null,this.onAllSuccess=null,this.onProgress=null,this.eventType=null}var n,r,u;return n=e,r=[{key:"chooseFile",value:function(t,e){var n=this,r=t.count,o=t.sourceType,i=t.mediaType,u=t.sizeType;this.choosing=!0,wx.chooseMedia({count:r||1,mediaType:i||["image","video"],sourceType:o||["album","camera"],camera:"back",sizeType:u||["original","compressed"],success:function(t){n.uploadFiles(Object.assign({files:t.tempFiles},e))},complete:function(){n.choosing=!1}})}},{key:"uploadFiles",value:function(t){var n=t.files,r=t.onComputedId,i=t.onComputedMd5,u=t.onUploading,s=t.onProgress,f=t.onSuccess,l=t.onAllFinish,h=t.onAllSuccess,p=t.onError,d=this;d.countTask+=n.length,d.uploading=!0,d.loadedBuffer=0,d.bufferSpeed=0,d.onComputedId=r,d.onComputedMd5=i,d.onSuccess=f,d.onError=p,d.onAllFinish=l,d.onAllSuccess=h,d.onProgress=s,d.onUploading=u;var g=0;function y(t){return new Promise((function(e,n){!d.signatureInfo||t?d.signatureApi().then((function(t){d.signatureInfo=t,e()})).catch((function(){n()})):e()}))}function v(t){function n(){e.removeOutOf(d.uploadingQueue,t),x(t),d.checkQueueList()}wx.uploadFile({url:d.debug?d.signatureInfo.host+"123":d.signatureInfo.host,filePath:t.filePath,name:"file",formData:{name:"".concat(t.md5,".").concat(t.suffix),key:"".concat(d.signatureInfo.dir).concat(t.md5,".").concat(t.suffix),policy:d.signatureInfo.policy,OSSAccessKeyId:d.signatureInfo.accessid,success_action_status:"200",signature:d.signatureInfo.signature,callback:d.signatureInfo.callback},success:function(r){if(200==r.statusCode&&r.data){var o=JSON.parse(r.data).data;"Ok"===o.Status?(e.removeOutOf(d.uploadingQueue,t),t.uploadedUrl=o.url,d.uploadedQueue.push(t),function(t){if(b(t,"success"),"function"==typeof d.onSuccess){var e=d.waitingQueue.length+d.uploadingQueue.length+d.errorQueue.length;d.onSuccess(Object.assign({},t),e)}}(t),d.checkQueueList()):n()}else n()},fail:function(t){t.errMsg,n()}})}function m(t){b(t,"uploading"),"function"==typeof d.onUploading&&d.onUploading(Object.assign({},t))}function b(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.status=e,t.progress=n,"function"==typeof d.onProgress&&d.onProgress(Object.assign({},t))}function x(t){b(t,"fail"),d.errorQueue.push(t),"function"==typeof d.onError&&d.onError(Object.assign({},t))}d.checkQueueList=o(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0!==d.waitingQueue.length&&d.uploadingQueue.length<d.concurrencyCount)){t.next=13;break}if(d.isCheckingQueue=!0,n=d.waitingQueue.shift(),!d.maxSideWidth){t.next=8;break}return t.next=6,e.compressImage(n.filePath,d.maxSideWidth);case 6:r=t.sent,n.filePath=r;case 8:d.uploadingQueue.push(n),m(n),y().then((function(){return v(n)})).catch((function(){e.removeOutOf(d.uploadingQueue,n),x(n),d.checkQueueList()})),t.next=14;break;case 13:0===d.waitingQueue.length&&0===d.uploadingQueue.length&&(d.isCheckingQueue=!1,d.uploading=!1,"function"==typeof d.onAllFinish&&d.onAllFinish(),0===d.errorQueue.length&&"function"==typeof d.onAllSuccess&&d.onAllSuccess());case 14:case"end":return t.stop()}}),t)}))),function t(){var r,o;g<n.length?(r=n[g].tempFilePath,o={id:d.taskId,url:r,suffix:e.getFileSuffix(r),status:"wait",filePath:r},d.waitingQueue.push(o),function(t){b(t,"inited"),"function"==typeof d.onComputedId&&d.onComputedId(Object.assign({},t))}(o),d.taskId++,o.md5=c(r),function(t){b(t,"md5"),"function"==typeof d.onComputedMd5&&d.onComputedMd5(Object.assign({},t))}(o),g++,t()):d.checkQueueList()}()}},{key:"toggleDebug",value:function(){this.debug=!this.debug}},{key:"retryErrorQueue",value:function(){for(;this.errorQueue.length;){var t=this.errorQueue.shift(),e={id:t.id,url:t.url,suffix:t.suffix,filePath:t.filePath,md5:t.md5,status:"md5"};this.waitingQueue.push(e)}this.isCheckingQueue||this.checkQueueList&&this.checkQueueList()}},{key:"retryErrorTaskById",value:function(t){var e=this.errorQueue.findIndex((function(e){return e.id===Number(t)}));if(e>-1){var n=this.errorQueue.splice(e,1)[0],r={id:n.id,url:n.url,suffix:n.suffix,filePath:n.filePath,md5:n.md5,status:"md5"};this.waitingQueue.push(r),this.isCheckingQueue||this.checkQueueList&&this.checkQueueList()}}},{key:"delTaskById",value:function(t){var n={id:Number(t)};e.removeOutOf(this.waitingQueue,n),e.removeOutOf(this.uploadingQueue,n),e.removeOutOf(this.uploadedQueue,n),e.removeOutOf(this.errorQueue,n),this.countTask-=1}}],u=[{key:"removeOutOf",value:function(t,e){for(var n=0;n<t.length;n++)t[n].id==e.id&&t.splice(n,1)}},{key:"getFileSuffix",value:function(t){var e=t.lastIndexOf("."),n="";return-1!=e&&(n=t.substring(e+1)),n}},{key:"compressImage",value:function(e,n){return new Promise((function(r,o){wx.getImageInfo({src:e,success:function(i){var u,a=i.width,s=i.height;wx.compressImage((t(u={src:e},a>s?"compressedWidth":"compressHeight",n),t(u,"success",(function(t){var n=t.tempFilePath;if(n){var i=n,u=-1;if(n.indexOf("undefined")>-1&&(u=1),-1===n.indexOf(".")&&(u=2),n.lastIndexOf(".")===n.length-1&&(u=3),u>0){var a=e.split("/").pop(),s="".concat(wx.env.USER_DATA_PATH,"/").concat(a);wx.getFileSystemManager().renameSync(n,s),i=s}r(i)}else o()})),t(u,"fail",(function(){o()})),u))},fail:function(){o()}})}))}}],r&&i(n.prototype,r),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),e}(),c=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){!function(){var e=n(2),r=n(0).utf8,o=n(3),i=n(0).bin,u=function t(n,u){n.constructor==String?n=u&&"binary"===u.encoding?i.stringToBytes(n):r.stringToBytes(n):o(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var a=e.bytesToWords(n),s=8*n.length,c=1732584193,f=-271733879,l=-1732584194,h=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[s>>>5]|=128<<s%32,a[14+(s+64>>>9<<4)]=s;var d=t._ff,g=t._gg,y=t._hh,v=t._ii;for(p=0;p<a.length;p+=16){var m=c,b=f,x=l,w=h;c=d(c,f,l,h,a[p+0],7,-680876936),h=d(h,c,f,l,a[p+1],12,-389564586),l=d(l,h,c,f,a[p+2],17,606105819),f=d(f,l,h,c,a[p+3],22,-1044525330),c=d(c,f,l,h,a[p+4],7,-176418897),h=d(h,c,f,l,a[p+5],12,1200080426),l=d(l,h,c,f,a[p+6],17,-1473231341),f=d(f,l,h,c,a[p+7],22,-45705983),c=d(c,f,l,h,a[p+8],7,1770035416),h=d(h,c,f,l,a[p+9],12,-1958414417),l=d(l,h,c,f,a[p+10],17,-42063),f=d(f,l,h,c,a[p+11],22,-1990404162),c=d(c,f,l,h,a[p+12],7,1804603682),h=d(h,c,f,l,a[p+13],12,-40341101),l=d(l,h,c,f,a[p+14],17,-1502002290),c=g(c,f=d(f,l,h,c,a[p+15],22,1236535329),l,h,a[p+1],5,-165796510),h=g(h,c,f,l,a[p+6],9,-1069501632),l=g(l,h,c,f,a[p+11],14,643717713),f=g(f,l,h,c,a[p+0],20,-373897302),c=g(c,f,l,h,a[p+5],5,-701558691),h=g(h,c,f,l,a[p+10],9,38016083),l=g(l,h,c,f,a[p+15],14,-660478335),f=g(f,l,h,c,a[p+4],20,-405537848),c=g(c,f,l,h,a[p+9],5,568446438),h=g(h,c,f,l,a[p+14],9,-1019803690),l=g(l,h,c,f,a[p+3],14,-187363961),f=g(f,l,h,c,a[p+8],20,1163531501),c=g(c,f,l,h,a[p+13],5,-1444681467),h=g(h,c,f,l,a[p+2],9,-51403784),l=g(l,h,c,f,a[p+7],14,1735328473),c=y(c,f=g(f,l,h,c,a[p+12],20,-1926607734),l,h,a[p+5],4,-378558),h=y(h,c,f,l,a[p+8],11,-2022574463),l=y(l,h,c,f,a[p+11],16,1839030562),f=y(f,l,h,c,a[p+14],23,-35309556),c=y(c,f,l,h,a[p+1],4,-1530992060),h=y(h,c,f,l,a[p+4],11,1272893353),l=y(l,h,c,f,a[p+7],16,-155497632),f=y(f,l,h,c,a[p+10],23,-1094730640),c=y(c,f,l,h,a[p+13],4,681279174),h=y(h,c,f,l,a[p+0],11,-358537222),l=y(l,h,c,f,a[p+3],16,-722521979),f=y(f,l,h,c,a[p+6],23,76029189),c=y(c,f,l,h,a[p+9],4,-640364487),h=y(h,c,f,l,a[p+12],11,-421815835),l=y(l,h,c,f,a[p+15],16,530742520),c=v(c,f=y(f,l,h,c,a[p+2],23,-995338651),l,h,a[p+0],6,-198630844),h=v(h,c,f,l,a[p+7],10,1126891415),l=v(l,h,c,f,a[p+14],15,-1416354905),f=v(f,l,h,c,a[p+5],21,-57434055),c=v(c,f,l,h,a[p+12],6,1700485571),h=v(h,c,f,l,a[p+3],10,-1894986606),l=v(l,h,c,f,a[p+10],15,-1051523),f=v(f,l,h,c,a[p+1],21,-2054922799),c=v(c,f,l,h,a[p+8],6,1873313359),h=v(h,c,f,l,a[p+15],10,-30611744),l=v(l,h,c,f,a[p+6],15,-1560198380),f=v(f,l,h,c,a[p+13],21,1309151649),c=v(c,f,l,h,a[p+4],6,-145523070),h=v(h,c,f,l,a[p+11],10,-1120210379),l=v(l,h,c,f,a[p+2],15,718787259),f=v(f,l,h,c,a[p+9],21,-343485551),c=c+m>>>0,f=f+b>>>0,l=l+x>>>0,h=h+w>>>0}return e.endian([c,f,l,h])};u._ff=function(t,e,n,r,o,i,u){var a=t+(e&n|~e&r)+(o>>>0)+u;return(a<<i|a>>>32-i)+e},u._gg=function(t,e,n,r,o,i,u){var a=t+(e&r|n&~r)+(o>>>0)+u;return(a<<i|a>>>32-i)+e},u._hh=function(t,e,n,r,o,i,u){var a=t+(e^n^r)+(o>>>0)+u;return(a<<i|a>>>32-i)+e},u._ii=function(t,e,n,r,o,i,u){var a=t+(n^(e|~r))+(o>>>0)+u;return(a<<i|a>>>32-i)+e},u._blocksize=16,u._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(u(t,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):e.bytesToHex(r)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){t.exports=n(1)}]);const f=s})(),r})()));