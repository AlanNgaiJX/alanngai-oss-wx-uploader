/*! For license information please see alanngai-oss-wx-uploader.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["alanngai-oss-wx-uploader"]=t():e["alanngai-oss-wx-uploader"]=t()}(this,(()=>(()=>{var e={61:(e,t,n)=>{var r=n(698).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",s=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),u=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var a=k(u,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,u),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p={};function d(){}function g(){}function y(){}var v={};f(v,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(_([])));b&&b!==n&&i.call(b,a)&&(v=b);var x=y.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,u,a,s){var c=h(e[o],e,u);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==r(l)&&i.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){f.value=e,a(f)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function Q(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return g.prototype=y,f(x,"constructor",y),f(y,"constructor",g),g.displayName=f(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,f(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(O.prototype),f(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var u=new O(l(e,n,r,o),i);return t.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},w(x),f(x,c,"Generator"),f(x,a,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Q),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return u.type="throw",u.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],u=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),s=i.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=e,u.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),Q(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;Q(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:(e,t,n)=>{var r=n(61)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var u=e.apply(n,r);function a(e){t(u,o,i,a,s,"next",e)}function s(e){t(u,o,i,a,s,"throw",e)}a(void 0)}))}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(r),n.d(r,{default:()=>f});var u=n(687),a=n.n(u),s=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.countTask=0,this.concurrencyCount=1,this.waitingQueue=[],this.uploadingQueue=[],this.errorQueue=[],this.uploadedQueue=[],this.choosing=!1,this.uploading=!1,this.isCheckingQueue=!1,this.maxSideWidth=n,this.taskId=0,this.checkQueueList=null,this.debug=!1,this.signatureApi=e,this.signatureInfo=null,this.onComputedId=null,this.onComputedMd5=null,this.onUploading=null,this.onSuccess=null,this.onError=null,this.onAllFinish=null,this.onAllSuccess=null,this.onProgress=null,this.eventType=null}var n,r,u;return n=t,r=[{key:"chooseFile",value:function(e,t){var n=this,r=e.count,o=e.sourceType,i=e.mediaType,u=e.sizeType;this.choosing=!0,wx.chooseMedia({count:r||1,mediaType:i||["image","video"],sourceType:o||["album","camera"],camera:"back",sizeType:u||["original","compressed"],success:function(e){n.uploadFiles(Object.assign({files:e.tempFiles},t))},complete:function(){n.choosing=!1}})}},{key:"uploadFiles",value:function(e){var n=e.files,r=e.onComputedId,i=e.onComputedMd5,u=e.onUploading,s=e.onProgress,f=e.onSuccess,l=e.onAllFinish,h=e.onAllSuccess,p=e.onError,d=this;d.countTask+=n.length,d.uploading=!0,d.loadedBuffer=0,d.bufferSpeed=0,d.onComputedId=r,d.onComputedMd5=i,d.onSuccess=f,d.onError=p,d.onAllFinish=l,d.onAllSuccess=h,d.onProgress=s,d.onUploading=u;var g=0;function y(e){return new Promise((function(t,n){!d.signatureInfo||e?d.signatureApi().then((function(e){d.signatureInfo=e,t()})).catch((function(){n()})):t()}))}function v(e){function n(){t.removeOutOf(d.uploadingQueue,e),x(e),d.checkQueueList()}wx.uploadFile({url:d.debug?d.signatureInfo.host+"123":d.signatureInfo.host,filePath:e.filePath,name:"file",formData:{name:"".concat(e.md5,".").concat(e.suffix),key:"".concat(d.signatureInfo.dir).concat(e.md5,".").concat(e.suffix),policy:d.signatureInfo.policy,OSSAccessKeyId:d.signatureInfo.accessid,success_action_status:"200",signature:d.signatureInfo.signature,callback:d.signatureInfo.callback},success:function(r){if(200==r.statusCode&&r.data){var o=JSON.parse(r.data).data;"Ok"===o.Status?(t.removeOutOf(d.uploadingQueue,e),e.uploadedUrl=o.url,d.uploadedQueue.push(e),function(e){if(b(e,"success"),"function"==typeof d.onSuccess){var t=d.waitingQueue.length+d.uploadingQueue.length+d.errorQueue.length;d.onSuccess(Object.assign({},e),t)}}(e),d.checkQueueList()):n()}else n()},fail:function(e){e.errMsg,n()}})}function m(e){b(e,"uploading"),"function"==typeof d.onUploading&&d.onUploading(Object.assign({},e))}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.status=t,e.progress=n,"function"==typeof d.onProgress&&d.onProgress(Object.assign({},e))}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.failType=t,b(e,"fail"),d.errorQueue.push(e),"function"==typeof d.onError&&d.onError(Object.assign({},e))}d.checkQueueList=o(a().mark((function e(){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0!==d.waitingQueue.length&&d.uploadingQueue.length<d.concurrencyCount)){e.next=22;break}if(d.isCheckingQueue=!0,n=d.waitingQueue.shift(),!d.maxSideWidth||n.isCompressed){e.next=17;break}return e.prev=4,e.next=7,t.compressImage(n.filePath,d.maxSideWidth);case 7:r=e.sent,n.filePath=r,n.isCompressed=!0,e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(4),x(n,2),d.checkQueueList(),e.abrupt("return",!1);case 17:d.uploadingQueue.push(n),m(n),y().then((function(){return v(n)})).catch((function(){t.removeOutOf(d.uploadingQueue,n),x(n),d.checkQueueList()})),e.next=23;break;case 22:0===d.waitingQueue.length&&0===d.uploadingQueue.length&&(d.isCheckingQueue=!1,d.uploading=!1,"function"==typeof d.onAllFinish&&d.onAllFinish(),0===d.errorQueue.length&&"function"==typeof d.onAllSuccess&&d.onAllSuccess());case 23:case"end":return e.stop()}}),e,null,[[4,12]])}))),function e(){var r,o;g<n.length?(r=n[g].tempFilePath,o={id:d.taskId,url:r,suffix:t.getFileSuffix(r),status:"wait",filePath:r},d.waitingQueue.push(o),function(e){b(e,"inited"),"function"==typeof d.onComputedId&&d.onComputedId(Object.assign({},e))}(o),d.taskId++,o.md5=c(r),function(e){b(e,"md5"),"function"==typeof d.onComputedMd5&&d.onComputedMd5(Object.assign({},e))}(o),g++,e()):d.checkQueueList()}()}},{key:"toggleDebug",value:function(){this.debug=!this.debug}},{key:"retryErrorQueue",value:function(){for(;this.errorQueue.length;){var e=this.errorQueue.shift(),t={id:e.id,url:e.url,suffix:e.suffix,filePath:e.filePath,md5:e.md5,status:"md5"};this.waitingQueue.push(t)}this.isCheckingQueue||this.checkQueueList&&this.checkQueueList()}},{key:"retryErrorTaskById",value:function(e){var t=this.errorQueue.findIndex((function(t){return t.id===Number(e)}));if(t>-1){var n=this.errorQueue.splice(t,1)[0],r={id:n.id,url:n.url,suffix:n.suffix,filePath:n.filePath,md5:n.md5,isCompressed:n.isCompressed,status:"md5"};this.waitingQueue.push(r),this.isCheckingQueue||this.checkQueueList&&this.checkQueueList()}}},{key:"delTaskById",value:function(e){var n={id:Number(e)};t.removeOutOf(this.waitingQueue,n),t.removeOutOf(this.uploadingQueue,n),t.removeOutOf(this.uploadedQueue,n),t.removeOutOf(this.errorQueue,n),this.countTask-=1}}],u=[{key:"removeOutOf",value:function(e,t){for(var n=0;n<e.length;n++)e[n].id==t.id&&e.splice(n,1)}},{key:"getFileSuffix",value:function(e){var t=e.lastIndexOf("."),n="";return-1!=t&&(n=e.substring(t+1)),n}},{key:"compressImage",value:function(t,n){return new Promise((function(r,o){wx.getImageInfo({src:t,success:function(i){var u,a=i.width,s=i.height;wx.compressImage((e(u={src:t},a>s?"compressedWidth":"compressHeight",n),e(u,"success",(function(e){var n=e.tempFilePath;if(n){var i=n,u=-1;if(n.indexOf("undefined")>-1&&(u=1),-1===n.indexOf(".")&&(u=2),n.lastIndexOf(".")===n.length-1&&(u=3),u>0){var a=t.split("/").pop(),s="".concat(wx.env.USER_DATA_PATH,"/").concat(a);wx.getFileSystemManager().renameSync(n,s),i=s}r(i)}else o()})),e(u,"fail",(function(){o()})),u))},fail:function(){o()}})}))}}],r&&i(n.prototype,r),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),t}(),c=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){!function(){var t=n(2),r=n(0).utf8,o=n(3),i=n(0).bin,u=function e(n,u){n.constructor==String?n=u&&"binary"===u.encoding?i.stringToBytes(n):r.stringToBytes(n):o(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var a=t.bytesToWords(n),s=8*n.length,c=1732584193,f=-271733879,l=-1732584194,h=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[s>>>5]|=128<<s%32,a[14+(s+64>>>9<<4)]=s;var d=e._ff,g=e._gg,y=e._hh,v=e._ii;for(p=0;p<a.length;p+=16){var m=c,b=f,x=l,w=h;c=d(c,f,l,h,a[p+0],7,-680876936),h=d(h,c,f,l,a[p+1],12,-389564586),l=d(l,h,c,f,a[p+2],17,606105819),f=d(f,l,h,c,a[p+3],22,-1044525330),c=d(c,f,l,h,a[p+4],7,-176418897),h=d(h,c,f,l,a[p+5],12,1200080426),l=d(l,h,c,f,a[p+6],17,-1473231341),f=d(f,l,h,c,a[p+7],22,-45705983),c=d(c,f,l,h,a[p+8],7,1770035416),h=d(h,c,f,l,a[p+9],12,-1958414417),l=d(l,h,c,f,a[p+10],17,-42063),f=d(f,l,h,c,a[p+11],22,-1990404162),c=d(c,f,l,h,a[p+12],7,1804603682),h=d(h,c,f,l,a[p+13],12,-40341101),l=d(l,h,c,f,a[p+14],17,-1502002290),c=g(c,f=d(f,l,h,c,a[p+15],22,1236535329),l,h,a[p+1],5,-165796510),h=g(h,c,f,l,a[p+6],9,-1069501632),l=g(l,h,c,f,a[p+11],14,643717713),f=g(f,l,h,c,a[p+0],20,-373897302),c=g(c,f,l,h,a[p+5],5,-701558691),h=g(h,c,f,l,a[p+10],9,38016083),l=g(l,h,c,f,a[p+15],14,-660478335),f=g(f,l,h,c,a[p+4],20,-405537848),c=g(c,f,l,h,a[p+9],5,568446438),h=g(h,c,f,l,a[p+14],9,-1019803690),l=g(l,h,c,f,a[p+3],14,-187363961),f=g(f,l,h,c,a[p+8],20,1163531501),c=g(c,f,l,h,a[p+13],5,-1444681467),h=g(h,c,f,l,a[p+2],9,-51403784),l=g(l,h,c,f,a[p+7],14,1735328473),c=y(c,f=g(f,l,h,c,a[p+12],20,-1926607734),l,h,a[p+5],4,-378558),h=y(h,c,f,l,a[p+8],11,-2022574463),l=y(l,h,c,f,a[p+11],16,1839030562),f=y(f,l,h,c,a[p+14],23,-35309556),c=y(c,f,l,h,a[p+1],4,-1530992060),h=y(h,c,f,l,a[p+4],11,1272893353),l=y(l,h,c,f,a[p+7],16,-155497632),f=y(f,l,h,c,a[p+10],23,-1094730640),c=y(c,f,l,h,a[p+13],4,681279174),h=y(h,c,f,l,a[p+0],11,-358537222),l=y(l,h,c,f,a[p+3],16,-722521979),f=y(f,l,h,c,a[p+6],23,76029189),c=y(c,f,l,h,a[p+9],4,-640364487),h=y(h,c,f,l,a[p+12],11,-421815835),l=y(l,h,c,f,a[p+15],16,530742520),c=v(c,f=y(f,l,h,c,a[p+2],23,-995338651),l,h,a[p+0],6,-198630844),h=v(h,c,f,l,a[p+7],10,1126891415),l=v(l,h,c,f,a[p+14],15,-1416354905),f=v(f,l,h,c,a[p+5],21,-57434055),c=v(c,f,l,h,a[p+12],6,1700485571),h=v(h,c,f,l,a[p+3],10,-1894986606),l=v(l,h,c,f,a[p+10],15,-1051523),f=v(f,l,h,c,a[p+1],21,-2054922799),c=v(c,f,l,h,a[p+8],6,1873313359),h=v(h,c,f,l,a[p+15],10,-30611744),l=v(l,h,c,f,a[p+6],15,-1560198380),f=v(f,l,h,c,a[p+13],21,1309151649),c=v(c,f,l,h,a[p+4],6,-145523070),h=v(h,c,f,l,a[p+11],10,-1120210379),l=v(l,h,c,f,a[p+2],15,718787259),f=v(f,l,h,c,a[p+9],21,-343485551),c=c+m>>>0,f=f+b>>>0,l=l+x>>>0,h=h+w>>>0}return t.endian([c,f,l,h])};u._ff=function(e,t,n,r,o,i,u){var a=e+(t&n|~t&r)+(o>>>0)+u;return(a<<i|a>>>32-i)+t},u._gg=function(e,t,n,r,o,i,u){var a=e+(t&r|n&~r)+(o>>>0)+u;return(a<<i|a>>>32-i)+t},u._hh=function(e,t,n,r,o,i,u){var a=e+(t^n^r)+(o>>>0)+u;return(a<<i|a>>>32-i)+t},u._ii=function(e,t,n,r,o,i,u){var a=e+(n^(t|~r))+(o>>>0)+u;return(a<<i|a>>>32-i)+t},u._blocksize=16,u._digestsize=16,e.exports=function(e,n){if(null==e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(u(e,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):t.bytesToHex(r)}}()},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){e.exports=n(1)}]);const f=s})(),r})()));